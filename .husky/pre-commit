#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Pre-commit ì²´í¬ ì‹¤í–‰ ì¤‘..."

# package-lock.json ë³€ê²½ í™•ì¸
if git diff --cached --name-only | grep -q "package\.json"; then
    if ! git diff --cached --name-only | grep -q "package-lock\.json"; then
        echo "âš ï¸  package.jsonì´ ë³€ê²½ë˜ì—ˆì§€ë§Œ package-lock.jsonì´ í¬í•¨ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!"
        echo "npm installì„ ì‹¤í–‰í•˜ê³  package-lock.jsonë„ ì»¤ë°‹í•´ì£¼ì„¸ìš”."
        exit 1
    fi
fi

echo "âœ… Pre-commit ì²´í¬ ì™„ë£Œ!"