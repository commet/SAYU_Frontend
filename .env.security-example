# SAYU - 보안 강화된 환경변수 설정 예제
# 보안상 중요한 API 키들은 NEXT_PUBLIC_ 접두사 없이 서버사이드에서만 사용

# ==============================================
# 🔒 서버 전용 API 키들 (절대 클라이언트 노출 금지)
# ==============================================

# AI 이미지 생성 API 키들
HUGGINGFACE_API_KEY=hf_your_huggingface_api_key_here
REPLICATE_API_TOKEN=r8_your_replicate_api_token_here  
OPENAI_API_KEY=sk-your_openai_api_key_here
GROQ_API_KEY=gsk_your_groq_api_key_here
STABILITY_API_KEY=sk_your_stability_ai_key_here

# OAuth 클라이언트 시크릿 (민감한 정보)
KAKAO_CLIENT_ID=your_kakao_client_id_here
KAKAO_CLIENT_SECRET=your_kakao_client_secret_here
INSTAGRAM_CLIENT_SECRET=your_instagram_client_secret_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# 데이터베이스 & 서버 설정
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
DATABASE_URL=your_database_connection_string
JWT_SECRET=your_jwt_secret_key_here

# ==============================================
# 🌐 클라이언트 안전 공개 변수들 (NEXT_PUBLIC_)
# ==============================================

# 앱 기본 설정
NEXT_PUBLIC_APP_URL=https://sayu.my
NEXT_PUBLIC_APP_NAME=SAYU
NEXT_PUBLIC_APP_VERSION=2.0.0

# Supabase 공개 설정 (RLS로 보호됨)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here

# 기능 플래그
NEXT_PUBLIC_ENABLE_ART_PULSE=true
NEXT_PUBLIC_USE_MOCK_SUPABASE=false
NEXT_PUBLIC_ART_PULSE_DEMO=false

# 애널리틱스 & 모니터링
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn

# 알림 서비스 공개 키
NEXT_PUBLIC_VAPID_KEY=your_vapid_public_key_here

# ==============================================
# 🔧 개발/프로덕션 환경 설정
# ==============================================

NODE_ENV=production
NEXT_PUBLIC_ENVIRONMENT=production

# API Rate Limiting 설정
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ==============================================
# ⚠️ 보안 가이드라인
# ==============================================

# ❌ 절대 하지 말 것:
# NEXT_PUBLIC_OPENAI_API_KEY=sk-... (클라이언트에 노출됨!)
# NEXT_PUBLIC_REPLICATE_API_TOKEN=r8_... (클라이언트에 노출됨!)
# NEXT_PUBLIC_KAKAO_CLIENT_SECRET=... (클라이언트에 노출됨!)

# ✅ 올바른 방법:
# - 민감한 API 키는 NEXT_PUBLIC_ 없이 서버 전용으로 사용
# - API Route를 통해 클라이언트와 서버 간 안전한 통신
# - Rate limiting으로 API 남용 방지
# - 환경변수 검증으로 누락된 키 사전 감지

# ==============================================
# 🚀 배포 시 체크리스트
# ==============================================

# 1. Vercel/Netlify 환경변수 설정 확인
# 2. 프로덕션 URL로 NEXT_PUBLIC_APP_URL 업데이트  
# 3. OAuth redirect URL 설정 확인
# 4. API 키 권한 최소화 (read-only 가능한 경우)
# 5. Rate limiting 설정 확인
# 6. 보안 헤더 설정 확인